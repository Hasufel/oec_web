<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<!-- If run on a server, you can include your own header that includes a navigation bar, etc -->
<!-- ** start server side header ** -->
<script language="php"> include "./.inc/header.php"; if (false){ </script> 
<head profile="http://www.w3.org/2005/10/profile">
<link rel="icon" type="image/ico" href="favicon.ico" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/><meta name="description" content="description"/>
<title>Open Exoplanet Catalogue</title>
<link rel="stylesheet" type="text/css" href="./css/style.css" media="screen" />
<link rel="stylesheet" type="text/css" href="./css/tables.css" media="screen" />
</head>
<body>
<div class="outer-container">
<div class="inner-container">
<div class="content">
<!-- ** end server side header ** -->
<script language="php"> } </script>

<!-- ########################### -->
<h2><img src="./img/database.png" alt="kig" />Correlation diagrams</h2>
<p>
	This page is currently under development. 
	It uses the d3 javascript library. 
	Once you've loaded this page, you can do all the operations without an internet connection.
</p>


<!-- ########################### -->
<style type="text/css">
label input {
	margin-right:	0.5em;
}
.spec{
	vertical-align:	top;
}
</style>
<!-- ########################### -->
<div class="spacer"></div>
<table cellspacing="0" summary="List of exoplanets">
<thead>
<tr>
	<th scope="col">Planetary system<br /></th>
	<th scope="col">Year of discovery</th>
	<th scope="col">Number of<br />planets</th>
</tr>
</thead>
<tbody id="systemtable">
</tbody>
</table>
<!-- ########################### -->
<script type="text/javascript" src="http://canvg.googlecode.com/svn/trunk/rgbcolor.js"></script> 
<script type="text/javascript" src="http://canvg.googlecode.com/svn/trunk/canvg.js"></script> 
<script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript">
var first 	= true;

var updateTable = function(){ 
	var stellarmultiplicity = "all";
	var planetsxml;
	switch(stellarmultiplicity){
		case "all":
			planetsxml = $("planet",xmldata);
			break;
	}

	var tr = d3.select("#systemtable").selectAll("tr")
		.data(planetsxml)
		.enter()
		.append("tr");

	tr.append("td")
		.text(function(d,i){return $("name:first",d).text();})
		;
	tr.append("td")
		.text(function(d,i){return $("discoveryyear",d).text();})
		;
	tr.append("td")
		.text(function(d,i){var system = $(d).parents("system"); return $("planet",system).length;})
		;



};

var xmldata = null;

d3.xml("systems.xml", "application/xml", function(xml) {
	xmldata = xml;
	updateTable();	
});

    
</script>
<div class="spacer" style="clear:left"></div>

<!-- ########################### -->
<h2><img src="./img/xml.png" alt="star" />Data download</h2>
<p>
The data presented in this plot is taken from the <a href="https://github.com/hannorein/open_exoplanet_catalogue">Open Exoplanet Catalogue</a>. All information on this page is directly generated from the XML files in the catalogue. If you are interested in how, look at the source code. You can download the entire catalogue on <a href="https://github.com/hannorein/open_exoplanet_catalogue/">github</a>. You can also find ASCII tables of the same catalogue <a href="https://github.com/hannorein/oec_tables/">in a separate repository</a>. Some information, especially in the case of a binary system cannot be easily represented in an ASCII table. You are therefore encouraged to use the original XML files provided by the Open Exoplanet Catalogue. 
</p>


<!-- If run on a server, you can include your own footer  -->
<!-- ** start server side header ** -->
<script language="php"> include "./.inc/footer.php"; if (false){ </script> 
</div> <!-- content -->
<div class="clearer">&nbsp;</div>
<div class="footer">
The data on this page is taken from the <a href="http://github.com/hannorein/open_exoplanet_catalogue">Open Exoplanet Catalogue</a>. The Open Exoplanet Catalogue as well as this website itself is licensed under an <a href="https://github.com/hannorein/open_exoplanet_catalogue/blob/master/README.md">MIT license</a>.
</div> <!-- footer -->
</div> <!-- inner container -->
</div> <!-- outer container -->
</body>
</html>
